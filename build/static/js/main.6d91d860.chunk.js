(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,r){e.exports=r(266)},266:function(e,t,r){"use strict";r.r(t);var n,a,o,i,c,s,p,l,u,d,b,h,y,O,f,g,C=r(0),m=r.n(C),j=r(18),w=r.n(j),E=r(39),v=(r(79),r(40)),k=r(55),z=r(125),S=r(117),L=r(126),N=r(276),D=r(274),Z=r(275),P=r(277),M=(r(143),"http://api.zippopotam.us/us/"),A=3e3,I="City was already added",R="Invalid zip-code",F=function(e,t){return e.some(function(e){return e.zipCode===t})},q=function(e){var t=e.cities,r=void 0===t?[]:t,n=e.onSelectCity,a=e.selectedZipCode;return m.a.createElement(N.a,null,r.map(function(e){return m.a.createElement(B,{key:"".concat(e.zipCode),onSelectCity:n,city:e,selected:a===e.zipCode})}))},B=function(e){var t=e.city,r=e.onSelectCity,n=e.selected;return m.a.createElement(N.a.Item,{key:"".concat(t.zipCode)},m.a.createElement(N.a.Content,null,m.a.createElement(N.a.Description,{as:"button",onClick:function(){return r(t)},style:{background:n?"#34d04e":"#FFF"}},t.placeName,", ",t.state)))},J=Object(E.b)("store")(n=Object(E.c)(n=function(e){function t(){var e,r;Object(v.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(z.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(a)))).setError=function(e){var t=r.props.store;t.errorMessage=e,setTimeout(t.clearError,A)},r.isErrorResponse=function(e){return 200!==e.status&&(r.props.store.turnOffLoader(),r.setError(R)),e.json()},r.isRequestSuccess=function(e){var t=e.places,n=r.props.store;n.turnOffLoader(),t&&t.length&&n.addCity(t[0])},r.onAddCity=function(){var e=r.props.store;if(!e.searchString)return null;var t="".concat(M).concat(e.searchString);F(e.cities,e.searchString)?r.setError(I):(e.turnOnLoader(),fetch(t).then(r.isErrorResponse).then(r.isRequestSuccess).catch(console.log))},r.renderError=function(){var e=r.props.store.errorMessage;return e?m.a.createElement("p",{className:"error"},e):null},r}return Object(L.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props.store,t=e.searchString,r=e.inputLoader,n=e.onSelectCity,a=e.cities,o=e.selectedZipCode,i=e.handleChange;return m.a.createElement(D.a,{className:"App"},m.a.createElement("div",{className:"form"},m.a.createElement(Z.a,{className:"searchInput",placeholder:"Search...",value:t,onChange:i}),m.a.createElement(P.a,{primary:!0,loading:r,disabled:r||t.length<5,onClick:this.onAddCity,className:"addButton"},"go"),this.renderError()),m.a.createElement(q,{cities:a,onSelectCity:n,selectedZipCode:o}))}}]),t}(C.Component))||n)||n,Y=r(124),x=r(25),T=r(17),G=(r(264),r(7)),H=(a=function e(t,r){Object(v.a)(this,e),Object(x.a)(this,"placeName",o,this),Object(x.a)(this,"state",i,this),Object(x.a)(this,"zipCode",c,this),this.placeName=t["place name"],this.state=t["state abbreviation"],this.zipCode=r},o=Object(T.a)(a.prototype,"placeName",[G.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=Object(T.a)(a.prototype,"state",[G.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=Object(T.a)(a.prototype,"zipCode",[G.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a),K=new(s=G.d.bound,p=G.d.bound,l=G.d.bound,u=G.d.bound,d=G.d.bound,b=function(){function e(){Object(v.a)(this,e),Object(x.a)(this,"cities",h,this),Object(x.a)(this,"searchString",y,this),Object(x.a)(this,"inputLoader",O,this),Object(x.a)(this,"errorMessage",f,this),Object(x.a)(this,"selectedZipCode",g,this)}return Object(k.a)(e,[{key:"addCity",value:function(e){this.cities=Object(Y.a)(this.cities).concat([new H(e,this.searchString)]),this.searchString=""}},{key:"handleChange",value:function(e){this.searchString=e.target.value}},{key:"clearError",value:function(){this.errorMessage=""}},{key:"turnOnLoader",value:function(){this.inputLoader=!0}},{key:"turnOffLoader",value:function(){this.inputLoader=!1}},{key:"onSelectCity",value:function(e){this.selectedZipCode===e.zipCode?(this.selectedZipCode=null,this.searchString=""):(this.selectedZipCode=e.zipCode,this.searchString=e.zipCode)}}]),e}(),h=Object(T.a)(b.prototype,"cities",[G.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{placeName:"New York",state:"NY",zipCode:"10001"},{placeName:"Odessa",state:"OD",zipCode:"65113"}]}}),y=Object(T.a)(b.prototype,"searchString",[G.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=Object(T.a)(b.prototype,"inputLoader",[G.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=Object(T.a)(b.prototype,"errorMessage",[G.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=Object(T.a)(b.prototype,"selectedZipCode",[G.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(T.a)(b.prototype,"addCity",[G.d],Object.getOwnPropertyDescriptor(b.prototype,"addCity"),b.prototype),Object(T.a)(b.prototype,"handleChange",[s],Object.getOwnPropertyDescriptor(b.prototype,"handleChange"),b.prototype),Object(T.a)(b.prototype,"clearError",[p],Object.getOwnPropertyDescriptor(b.prototype,"clearError"),b.prototype),Object(T.a)(b.prototype,"turnOnLoader",[l],Object.getOwnPropertyDescriptor(b.prototype,"turnOnLoader"),b.prototype),Object(T.a)(b.prototype,"turnOffLoader",[u],Object.getOwnPropertyDescriptor(b.prototype,"turnOffLoader"),b.prototype),Object(T.a)(b.prototype,"onSelectCity",[d],Object.getOwnPropertyDescriptor(b.prototype,"onSelectCity"),b.prototype),b);w.a.render(m.a.createElement(E.a,{store:K},m.a.createElement(J,null)),document.getElementById("root"))},79:function(e,t,r){}},[[136,2,1]]]);
//# sourceMappingURL=main.6d91d860.chunk.js.map